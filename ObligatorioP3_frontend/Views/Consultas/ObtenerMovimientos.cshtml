@model ObligatorioP3_frontend.Models.MovimientoModel
@{
    ViewData["Title"] = "ObtenerMovimientos";
}

<h1 class="text-center">Obtener Movimientos</h1>
<div class="row">
    <div class="col-md-4">
        <form asp-action="ObtenerMovimientos">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label for="idArticulo">Seleccione un articulo:</label>
                <br />
                <select id="idArticulo" name="idArticulo">
                    <option value="-1">Selecione...</option>
                    @if (ViewBag.articulos != null)
                    {
                        @foreach (var articulo in ViewBag.articulos)
                        {
                            <option value=@articulo.Id>@articulo.Nombre</option>
                        }
                    }
                </select>
            </div>                                   
            <div class="form-group">
                <label for="tipoMovimientoNombre">Seleccione un tipo de movimiento:</label>
                <br />
                <select id="tipoMovimientoNombre" name="tipoMovimientoNombre">
                    <option value="-1">Selecione...</option>
                    @if (ViewBag.tipos != null)
                    {
                        @foreach (var tipo in ViewBag.tipos)
                        {
                            <option value=@tipo.Nombre>@tipo.Nombre</option>
                        }
                    }
                </select>
            </div>

            <div class="form-group">                               
                <label for="paginas" class="control-label">Ingrese cantidad de paginas</label>
                <input id="paginas" name="paginas" class="form-control" />                                                  
            </div>
            <div class="form-group">
                <input type="submit" value="Buscar Movimiento" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>
<div>
    <a asp-controller="Consultas" class="btn btn-danger" asp-action="Index">Volver atras</a>
</div>
@if (ViewBag.mensaje != null)
{
    <div class="text-center alert-success p-3">
        @ViewBag.mensaje
    </div>
}
@if (ViewBag.mensajeError != null)
{
    <div class="text-center alert-danger p-3">
        @ViewBag.mensajeError
    </div>
}

@if (ViewBag.movimientos!=null)
{
    <table class="table">
        <thead>
            <tr>
                <th>
                    Nombre de Articulo
                </th>
                <th>
                    Id de tipo de movimiento
                </th>
                <th>
                    Nombre de tipo de movimiento
                </th>
                <th>
                    Signo de tipo de movimiento
                </th>                
                <th>
                    Fecha
                </th>
            </tr>
        </thead>
        <tbody>            
            @foreach (var movimiento in ViewBag.movimientos)
            {
                <tr>
                    <td>
                        @movimiento.Articulo.Nombre
                    </td>
                    <td>
                        @movimiento.TipoMovimiento.Id
                    </td>
                    <td>
                        @movimiento.TipoMovimiento.Nombre
                    </td>
                    <td>
                        @movimiento.TipoMovimiento.Signo
                    </td>                    
                    <td>
                        @movimiento.Fecha
                    </td>
                </tr>
            }
        </tbody>
    </table>

}





